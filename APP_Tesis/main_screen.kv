

<MainScreen>:
    id: main_screen
    name: "main_screen"
    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        pos_hint: {"center_x":.5,"center_y":.4}
        height: Window.height - dp(120)  # Ajustar dinámicamente según el tamaño de la ventana
        padding: [dp(10), "56dp", dp(10), dp(10)]  # Espaciado en todos los lados
        
        MDBoxLayout:
            id: news_container
            orientation: "vertical"
            size_hint_y: None
            padding: dp(10)
            spacing: dp(15)
            halign: 'center_x'
            height: self.minimum_height
            radius: (15,)  # Bordes redondeados
            elevation: 2  # Sombra
            width: Window.width - dp(20)  # Ajuste para que haya espacio a ambos lados
            size_hint_x: None


    MDBottomNavigation:
        id: bot_nav
        size_hint_y: .1
        pos_hint: {"bottom": 1}
        text_color_active: app.theme_cls.disabled_hint_text_color

        MDBottomNavigationItem:
            id: main_screen
            text: 'News'
            icon: 'newspaper'
            on_tab_release:
                app.back_with_animation('main_screen')
                #bot_nav.set_item(None)  # Accede directamente al MDBottomNavigation usando su id

        MDBottomNavigationItem:
            id: user_screen
            text: 'User'
            icon: 'account'
            on_tab_release:
                app.set_screen('user_screen')
                #bot_nav.set_item(None)  # Accede directamente al MDBottomNavigation usando su id

        MDBottomNavigationItem:
            id: game_screen
            text: 'Games'
            icon: 'gamepad'
            on_tab_release:
                app.set_screen('game_screen')
                #bot_nav.set_item(None)  # Accede directamente al MDBottomNavigation usando su id

        MDBottomNavigationItem:
            id: config_screen
            text: 'Settings'
            icon: 'cog'
            on_tab_release:
                app.set_screen('config_screen')
                #bot_nav.set_item(None)  # Accede directamente al MDBottomNavigation usando su id

    MDTopAppBar:
        id: topbar
        title: "Bienvenido!"
        pos_hint: {"top": 1}
        title_center: True
        size_hint_y: .10
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
        right_action_items: [["account-arrow-left", lambda x : app.set_screen('user_screen')]]

    MDNavigationLayout:
        MDScreenManager:
            id: scr_manager       
        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)
            ContentNavigationDrawer:
                screen_manager: scr_manager
                nav_drawer: nav_drawer


    

<NewsItem>:
    news_id: root.image_source
    size_hint_y: None
    height: dp(150)
    padding: dp(10)
    spacing: dp(10)
    halign: "center"
    MDCard:
        halign: "center"
        orientation: "horizontal"
        padding: dp(10)
        spacing: dp(10)
        size_hint: None, None
        size: root.size
        radius: dp(15)
        elevation: 2
        size: (Window.width - dp(40), dp(150))  # Tamaño fijo para que esté centrado

        Image:
            source: root.image_source
            size_hint_x: 0.4
            allow_stretch: True
       
        MDLabel:
            text: root.text
            size_hint_x: 0.6
            theme_text_color: "Primary"
            valign: "middle"
            halign: "left"